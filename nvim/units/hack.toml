[[plugins]]
repo = 'Shougo/denite.nvim'
on_cmd = 'Denite'
build = ':UpdateRemotePlugins'
hook_add='''
    nmap [denite] <Nop>
    map <C-j> [denite]

    nnoremap <silent> [denite]<C-p> :<C-u>Denite file/rec<CR>
    command! D execute(":Denite grep -buffer-name=grep-buffer-denite")
    command! Dresume execute(":Denite -resume -buffer-name=grep-buffer-denite")
    command! Dnext execute(":Denite -resume -buffer-name=grep-buffer-denite -cursor-pos=+1 -immediately")
    command! Dprev execute(":Denite -resume -buffer-name=grep-buffer-denite -cursor-pos=-1 -immediately")
    nmap <silent> [denite]<C-m> :<C-u>Denite -resume -buffer-name=grep-buffer-denite<CR>
    nnoremap <silent> [denite]n :<C-u>Denite -resume -buffer-name=grep-buffer-denite -cursor-pos=+1 -immediately<CR>
    nnoremap <silent> [denite]p :<C-u>Denite -resume -buffer-name=grep-buffer-denite -cursor-pos=-1 -immediately<CR>
'''
hook_source = '''
    source ~/dotfiles/nvim/plugins/denite.vim
'''
[[plugins]]
repo = 'neoclide/coc.nvim'
on_ft = ['go', 'python', 'json', 'make', 'vim', 'shell', 'js', 'vue', 'ts']
merge = 0
build = 'yarn install --frozen-lockfile'
hook_add = '''
    source ~/dotfiles/nvim/plugins/coc.vim
'''

[[plugins]]
repo = 'autozimu/LanguageClient-neovim'
rev = 'next'
on_ft = ['julia']
build = ':UpdateRemotePlugins'
hook_source = '''
    let g:LanguageClient_autoStart = 1
    let g:LanguageClient_serverCommands = {
        \ 'julia': ['julia', '--startup-file=no', '--history-file=no', '-e', '
        \    using LanguageServer;
        \    using Pkg;
        \    import StaticLint;
        \    import SymbolServer;
        \    env_path = dirname(Pkg.Types.Context().env.project_file);
        \    debug = false; 
        \    server = LanguageServer.LanguageServerInstance(stdin, stdout, debug, env_path, "", Dict());
        \    server.runlinter = true;
        \    run(server);
        \   ']
        \ }

    let g:LanguageClient_loadSettings = 1
    nnoremap <F5> :call LanguageClient_contextMenu()<CR>
    " Or map each action separately
    nnoremap <silent> K :call LanguageClient#textDocument_hover()<CR>
    nnoremap <silent> gd :call LanguageClient#textDocument_definition()<CR>
    nnoremap <silent> <leader>d :call LanguageClient#textDocument_definition()<CR>
    nnoremap <silent> <F2> :call LanguageClient#textDocument_rename()<CR>
'''

[[plugins]]
repo = 'Shougo/vimproc.vim'
build = 'make'

[[plugins]]
repo = 'thinca/vim-quickrun'
depends = ['vimproc.vim']
on_ft = ['python', 'go', 'julia']
hook_source = '''
  source ~/dotfiles/nvim/plugins/quickrun.vim
'''

[[plugins]]
repo = 'w0rp/ale'
on_ft = ['go', 'python', 'json', 'make', 'vim', 'shell', 'js', 'vue', 'ts']
hook_add = '''
    source ~/dotfiles/nvim/plugins/ale.vim
'''

#[[plugins]]
#repo = 'prabirshrestha/async.vim'

#[[plugins]]
#repo = 'prabirshrestha/vim-lsp'
#on_ft = ['python', 'go']
#depends = ['async.vim']
#hook_source = '''
#    source ~/dotfiles/nvim/plugins/lsp.vim
#'''
