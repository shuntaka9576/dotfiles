# ======================================================================================================================
# Package manager
# ======================================================================================================================
[[plugins]]
repo = 'Shougo/dein.vim'

# ======================================================================================================================
# LSP
# ======================================================================================================================
[[plugins]]
repo = 'neoclide/coc.nvim'
merged = 0
build = 'yarn install --frozen-lockfile'
hook_add = '''
source ~/dotfiles/nvim/plugins/coc.vim
'''

[[plugins]]
repo = "airblade/vim-gitgutter"
hook_add = '''
let g:gitgutter_map_keys = 0
nmap [g <Plug>GitGutterPrevHunk
nmap ]g <Plug>GitGutterNextHunk
'''

[[plugins]]
repo = "voldikss/vim-floaterm"
hook_add ='''
let g:floaterm_keymap_new    = '<C-t>N'
let g:floaterm_keymap_prev   = '<C-t>p'
let g:floaterm_keymap_next   = '<C-t>n'
let g:floaterm_keymap_toggle = '<C-t>h'
'''

[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
syntax on

let g:lightline = {
      \ 'colorscheme': 'PaperColor_dark',
      \ 'active': {
      \   'left': [ [ 'mode', 'paste' ],
      \             [ 'cocstatus', 'currentfunction', 'readonly', 'filepath', 'modified' ] ]
      \ },
      \ 'component_function': {
      \   'cocstatus': 'coc#status',
      \   'currentfunction': 'CocCurrentFunction',
      \   'filepath': 'FilePath',
      \   'filetype': 'MyFiletype',
      \   'fileformat': 'MyFileformat'
      \ },
      \ }

function! CocCurrentFunction()
  return get(b:, 'coc_current_function', '')
endfunction

function! FilePath()
  let fullpath = substitute(expand('%:p'), $HOME, '~', '')
  return fullpath
endfunction

" # show statusbar
set laststatus=2
" # hide --INSERT--
set noshowmode
'''
hook_post_source = '''
function! MyFiletype()
  return winwidth(0) > 70 ? (strlen(&filetype) ? &filetype . ' ' . WebDevIconsGetFileTypeSymbol() : 'no ft') : ''
endfunction

function! MyFileformat()
  return winwidth(0) > 70 ? (&fileformat . ' ' . WebDevIconsGetFileFormatSymbol()) : ''
endfunction
'''

[[plugins]]
repo='simeji/winresizer.git'

[[plugins]]
repo = 'christoomey/vim-tmux-navigator'
hook_add = '''
let g:tmux_navigator_no_mappings = 1

nnoremap <silent> <C-w>j :TmuxNavigateDown<CR>
nnoremap <silent> <C-w>h :TmuxNavigateLeft<CR>
nnoremap <silent> <C-w>k :TmuxNavigateUp<CR>
nnoremap <silent> <C-w>l :TmuxNavigateRight<CR>
nnoremap <silent> <C-w>\\ :TmuxNavigatePrevious<CR>
'''

# ======================================================================================================================
# Color schema settings
# ======================================================================================================================
[[plugins]]
repo = 'joshdick/onedark.vim'
hook_add='''
colorscheme onedark
'''
